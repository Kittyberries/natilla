#Grant advancement to every player (depending on gamemode and language)
execute if score language Config matches 0 if score gamemode Config matches 0 unless score recursionFix ItemsUpdate matches 1.. run advancement grant @a only ctmv:english/normal/purple
execute if score language Config matches 0 if score gamemode Config matches 1 unless score recursionFix ItemsUpdate matches 1.. run advancement grant @a only ctmv:english/hard/cyan
execute if score language Config matches 0 if score gamemode Config matches 2 unless score recursionFix ItemsUpdate matches 1.. run advancement grant @a only ctmv:english/nightmare/light_gray

execute if score language Config matches 1 if score gamemode Config matches 0 unless score recursionFix ItemsUpdate matches 1.. run advancement grant @a only ctmv:spanish/normal/purple
execute if score language Config matches 1 if score gamemode Config matches 1 unless score recursionFix ItemsUpdate matches 1.. run advancement grant @a only ctmv:spanish/hard/cyan
execute if score language Config matches 1 if score gamemode Config matches 2 unless score recursionFix ItemsUpdate matches 1.. run advancement grant @a only ctmv:spanish/nightmare/light_gray

#Call to the common function for all advancements
execute if score gamemode Config matches 0 run scoreboard players set wool ItemsUpdate 11
execute if score gamemode Config matches 1 run scoreboard players set wool ItemsUpdate 10
execute if score gamemode Config matches 2 run scoreboard players set wool ItemsUpdate 9
execute if score gamemode Config matches 0..2 unless score recursionFix ItemsUpdate matches 1.. run function ctmv:obtain_item/reward

#Custom title and chat message
#ENGLISH - Normal mode - Hard mode - Nightmare mode
execute if score language Config matches 0 if score gamemode Config matches 0 if score recursionFix ItemsUpdate matches 0 if score minutes Timer matches ..9 if score seconds Timer matches ..9 run tellraw @a [{"text":"█","color":"dark_purple"},{"text":" ⏵","color":"green"},{"text":" Purple wool","color":"#C1FFB8","bold":true},{"text":" (Totem of Undying) ","color":"gray","italic":true},{"text":"obtained in ","color":"#C1FFB8"},{"score":{"name":"hours","objective":"Timer"},"color":"green","bold":true},{"text":":0","color":"green","bold":true},{"score":{"name":"minutes","objective":"Timer"},"color":"green","bold":true},{"text":":0","color":"green","bold":true},{"score":{"name":"seconds","objective":"Timer"},"color":"green","bold":true},{"text":"!","color":"#C1FFB8"}]
execute if score language Config matches 0 if score gamemode Config matches 0 if score recursionFix ItemsUpdate matches 0 if score minutes Timer matches ..9 if score seconds Timer matches 10.. run tellraw @a [{"text":"█","color":"dark_purple"},{"text":" ⏵","color":"green"},{"text":" Purple wool","color":"#C1FFB8","bold":true},{"text":" (Totem of Undying) ","color":"gray","italic":true},{"text":"obtained in ","color":"#C1FFB8"},{"score":{"name":"hours","objective":"Timer"},"color":"green","bold":true},{"text":":0","color":"green","bold":true},{"score":{"name":"minutes","objective":"Timer"},"color":"green","bold":true},{"text":":","color":"green","bold":true},{"score":{"name":"seconds","objective":"Timer"},"color":"green","bold":true},{"text":"!","color":"#C1FFB8"}]
execute if score language Config matches 0 if score gamemode Config matches 0 if score recursionFix ItemsUpdate matches 0 if score minutes Timer matches 10.. if score seconds Timer matches ..9 run tellraw @a [{"text":"█","color":"dark_purple"},{"text":" ⏵","color":"green"},{"text":" Purple wool","color":"#C1FFB8","bold":true},{"text":" (Totem of Undying) ","color":"gray","italic":true},{"text":"obtained in ","color":"#C1FFB8"},{"score":{"name":"hours","objective":"Timer"},"color":"green","bold":true},{"text":":","color":"green","bold":true},{"score":{"name":"minutes","objective":"Timer"},"color":"green","bold":true},{"text":":0","color":"green","bold":true},{"score":{"name":"seconds","objective":"Timer"},"color":"green","bold":true},{"text":"!","color":"#C1FFB8"}]
execute if score language Config matches 0 if score gamemode Config matches 0 if score recursionFix ItemsUpdate matches 0 if score minutes Timer matches 10.. if score seconds Timer matches 10.. run tellraw @a [{"text":"█","color":"dark_purple"},{"text":" ⏵","color":"green"},{"text":" Purple wool","color":"#C1FFB8","bold":true},{"text":" (Totem of Undying) ","color":"gray","italic":true},{"text":"obtained in ","color":"#C1FFB8"},{"score":{"name":"hours","objective":"Timer"},"color":"green","bold":true},{"text":":","color":"green","bold":true},{"score":{"name":"minutes","objective":"Timer"},"color":"green","bold":true},{"text":":","color":"green","bold":true},{"score":{"name":"seconds","objective":"Timer"},"color":"green","bold":true},{"text":"!","color":"#C1FFB8"}]

execute if score language Config matches 0 if score gamemode Config matches 1 if score recursionFix ItemsUpdate matches 0 if score minutes Timer matches ..9 if score seconds Timer matches ..9 run tellraw @a [{"text":"█","color":"dark_aqua"},{"text":" ⏵","color":"green"},{"text":" Cyan wool","color":"#C1FFB8","bold":true},{"text":" (Totem of Undying) ","color":"gray","italic":true},{"text":"obtained in ","color":"#C1FFB8"},{"score":{"name":"hours","objective":"Timer"},"color":"green","bold":true},{"text":":0","color":"green","bold":true},{"score":{"name":"minutes","objective":"Timer"},"color":"green","bold":true},{"text":":0","color":"green","bold":true},{"score":{"name":"seconds","objective":"Timer"},"color":"green","bold":true},{"text":"!","color":"#C1FFB8"}]
execute if score language Config matches 0 if score gamemode Config matches 1 if score recursionFix ItemsUpdate matches 0 if score minutes Timer matches ..9 if score seconds Timer matches 10.. run tellraw @a [{"text":"█","color":"dark_aqua"},{"text":" ⏵","color":"green"},{"text":" Cyan wool","color":"#C1FFB8","bold":true},{"text":" (Totem of Undying) ","color":"gray","italic":true},{"text":"obtained in ","color":"#C1FFB8"},{"score":{"name":"hours","objective":"Timer"},"color":"green","bold":true},{"text":":0","color":"green","bold":true},{"score":{"name":"minutes","objective":"Timer"},"color":"green","bold":true},{"text":":","color":"green","bold":true},{"score":{"name":"seconds","objective":"Timer"},"color":"green","bold":true},{"text":"!","color":"#C1FFB8"}]
execute if score language Config matches 0 if score gamemode Config matches 1 if score recursionFix ItemsUpdate matches 0 if score minutes Timer matches 10.. if score seconds Timer matches ..9 run tellraw @a [{"text":"█","color":"dark_aqua"},{"text":" ⏵","color":"green"},{"text":" Cyan wool","color":"#C1FFB8","bold":true},{"text":" (Totem of Undying) ","color":"gray","italic":true},{"text":"obtained in ","color":"#C1FFB8"},{"score":{"name":"hours","objective":"Timer"},"color":"green","bold":true},{"text":":","color":"green","bold":true},{"score":{"name":"minutes","objective":"Timer"},"color":"green","bold":true},{"text":":0","color":"green","bold":true},{"score":{"name":"seconds","objective":"Timer"},"color":"green","bold":true},{"text":"!","color":"#C1FFB8"}]
execute if score language Config matches 0 if score gamemode Config matches 1 if score recursionFix ItemsUpdate matches 0 if score minutes Timer matches 10.. if score seconds Timer matches 10.. run tellraw @a [{"text":"█","color":"dark_aqua"},{"text":" ⏵","color":"green"},{"text":" Cyan wool","color":"#C1FFB8","bold":true},{"text":" (Totem of Undying) ","color":"gray","italic":true},{"text":"obtained in ","color":"#C1FFB8"},{"score":{"name":"hours","objective":"Timer"},"color":"green","bold":true},{"text":":","color":"green","bold":true},{"score":{"name":"minutes","objective":"Timer"},"color":"green","bold":true},{"text":":","color":"green","bold":true},{"score":{"name":"seconds","objective":"Timer"},"color":"green","bold":true},{"text":"!","color":"#C1FFB8"}]

execute if score language Config matches 0 if score gamemode Config matches 2 if score recursionFix ItemsUpdate matches 0 if score minutes Timer matches ..9 if score seconds Timer matches ..9 run tellraw @a [{"text":"█","color":"gray"},{"text":" ⏵","color":"green"},{"text":" Light gray wool","color":"#C1FFB8","bold":true},{"text":" (Totem of Undying) ","color":"gray","italic":true},{"text":"obtained in ","color":"#C1FFB8"},{"score":{"name":"hours","objective":"Timer"},"color":"green","bold":true},{"text":":0","color":"green","bold":true},{"score":{"name":"minutes","objective":"Timer"},"color":"green","bold":true},{"text":":0","color":"green","bold":true},{"score":{"name":"seconds","objective":"Timer"},"color":"green","bold":true},{"text":"!","color":"#C1FFB8"}]
execute if score language Config matches 0 if score gamemode Config matches 2 if score recursionFix ItemsUpdate matches 0 if score minutes Timer matches ..9 if score seconds Timer matches 10.. run tellraw @a [{"text":"█","color":"gray"},{"text":" ⏵","color":"green"},{"text":" Light gray wool","color":"#C1FFB8","bold":true},{"text":" (Totem of Undying) ","color":"gray","italic":true},{"text":"obtained in ","color":"#C1FFB8"},{"score":{"name":"hours","objective":"Timer"},"color":"green","bold":true},{"text":":0","color":"green","bold":true},{"score":{"name":"minutes","objective":"Timer"},"color":"green","bold":true},{"text":":","color":"green","bold":true},{"score":{"name":"seconds","objective":"Timer"},"color":"green","bold":true},{"text":"!","color":"#C1FFB8"}]
execute if score language Config matches 0 if score gamemode Config matches 2 if score recursionFix ItemsUpdate matches 0 if score minutes Timer matches 10.. if score seconds Timer matches ..9 run tellraw @a [{"text":"█","color":"gray"},{"text":" ⏵","color":"green"},{"text":" Light gray wool","color":"#C1FFB8","bold":true},{"text":" (Totem of Undying) ","color":"gray","italic":true},{"text":"obtained in ","color":"#C1FFB8"},{"score":{"name":"hours","objective":"Timer"},"color":"green","bold":true},{"text":":","color":"green","bold":true},{"score":{"name":"minutes","objective":"Timer"},"color":"green","bold":true},{"text":":0","color":"green","bold":true},{"score":{"name":"seconds","objective":"Timer"},"color":"green","bold":true},{"text":"!","color":"#C1FFB8"}]
execute if score language Config matches 0 if score gamemode Config matches 2 if score recursionFix ItemsUpdate matches 0 if score minutes Timer matches 10.. if score seconds Timer matches 10.. run tellraw @a [{"text":"█","color":"gray"},{"text":" ⏵","color":"green"},{"text":" Light gray wool","color":"#C1FFB8","bold":true},{"text":" (Totem of Undying) ","color":"gray","italic":true},{"text":"obtained in ","color":"#C1FFB8"},{"score":{"name":"hours","objective":"Timer"},"color":"green","bold":true},{"text":":","color":"green","bold":true},{"score":{"name":"minutes","objective":"Timer"},"color":"green","bold":true},{"text":":","color":"green","bold":true},{"score":{"name":"seconds","objective":"Timer"},"color":"green","bold":true},{"text":"!","color":"#C1FFB8"}]

#SPANISH - Normal mode - Hard mode - Nightmare mode
execute if score language Config matches 1 if score gamemode Config matches 0 if score recursionFix ItemsUpdate matches 0 if score minutes Timer matches ..9 if score seconds Timer matches ..9 run tellraw @a [{"text":"█","color":"dark_purple"},{"text":" ⏵","color":"green"},{"text":" Lana morada","color":"#C1FFB8","bold":true},{"text":" (Tótem de la inmortalidad) ","color":"gray","italic":true},{"text":"conseguida en ","color":"#C1FFB8"},{"score":{"name":"hours","objective":"Timer"},"color":"green","bold":true},{"text":":0","color":"green","bold":true},{"score":{"name":"minutes","objective":"Timer"},"color":"green","bold":true},{"text":":0","color":"green","bold":true},{"score":{"name":"seconds","objective":"Timer"},"color":"green","bold":true},{"text":"!","color":"#C1FFB8"}]
execute if score language Config matches 1 if score gamemode Config matches 0 if score recursionFix ItemsUpdate matches 0 if score minutes Timer matches ..9 if score seconds Timer matches 10.. run tellraw @a [{"text":"█","color":"dark_purple"},{"text":" ⏵","color":"green"},{"text":" Lana morada","color":"#C1FFB8","bold":true},{"text":" (Tótem de la inmortalidad) ","color":"gray","italic":true},{"text":"conseguida en ","color":"#C1FFB8"},{"score":{"name":"hours","objective":"Timer"},"color":"green","bold":true},{"text":":0","color":"green","bold":true},{"score":{"name":"minutes","objective":"Timer"},"color":"green","bold":true},{"text":":","color":"green","bold":true},{"score":{"name":"seconds","objective":"Timer"},"color":"green","bold":true},{"text":"!","color":"#C1FFB8"}]
execute if score language Config matches 1 if score gamemode Config matches 0 if score recursionFix ItemsUpdate matches 0 if score minutes Timer matches 10.. if score seconds Timer matches ..9 run tellraw @a [{"text":"█","color":"dark_purple"},{"text":" ⏵","color":"green"},{"text":" Lana morada","color":"#C1FFB8","bold":true},{"text":" (Tótem de la inmortalidad) ","color":"gray","italic":true},{"text":"conseguida en ","color":"#C1FFB8"},{"score":{"name":"hours","objective":"Timer"},"color":"green","bold":true},{"text":":","color":"green","bold":true},{"score":{"name":"minutes","objective":"Timer"},"color":"green","bold":true},{"text":":0","color":"green","bold":true},{"score":{"name":"seconds","objective":"Timer"},"color":"green","bold":true},{"text":"!","color":"#C1FFB8"}]
execute if score language Config matches 1 if score gamemode Config matches 0 if score recursionFix ItemsUpdate matches 0 if score minutes Timer matches 10.. if score seconds Timer matches 10.. run tellraw @a [{"text":"█","color":"dark_purple"},{"text":" ⏵","color":"green"},{"text":" Lana morada","color":"#C1FFB8","bold":true},{"text":" (Tótem de la inmortalidad) ","color":"gray","italic":true},{"text":"conseguida en ","color":"#C1FFB8"},{"score":{"name":"hours","objective":"Timer"},"color":"green","bold":true},{"text":":","color":"green","bold":true},{"score":{"name":"minutes","objective":"Timer"},"color":"green","bold":true},{"text":":","color":"green","bold":true},{"score":{"name":"seconds","objective":"Timer"},"color":"green","bold":true},{"text":"!","color":"#C1FFB8"}]

execute if score language Config matches 1 if score gamemode Config matches 1 if score recursionFix ItemsUpdate matches 0 if score minutes Timer matches ..9 if score seconds Timer matches ..9 run tellraw @a [{"text":"█","color":"dark_aqua"},{"text":" ⏵","color":"green"},{"text":" Lana cián","color":"#C1FFB8","bold":true},{"text":" (Tótem de la inmortalidad) ","color":"gray","italic":true},{"text":"conseguida en ","color":"#C1FFB8"},{"score":{"name":"hours","objective":"Timer"},"color":"green","bold":true},{"text":":0","color":"green","bold":true},{"score":{"name":"minutes","objective":"Timer"},"color":"green","bold":true},{"text":":0","color":"green","bold":true},{"score":{"name":"seconds","objective":"Timer"},"color":"green","bold":true},{"text":"!","color":"#C1FFB8"}]
execute if score language Config matches 1 if score gamemode Config matches 1 if score recursionFix ItemsUpdate matches 0 if score minutes Timer matches ..9 if score seconds Timer matches 10.. run tellraw @a [{"text":"█","color":"dark_aqua"},{"text":" ⏵","color":"green"},{"text":" Lana cián","color":"#C1FFB8","bold":true},{"text":" (Tótem de la inmortalidad) ","color":"gray","italic":true},{"text":"conseguida en ","color":"#C1FFB8"},{"score":{"name":"hours","objective":"Timer"},"color":"green","bold":true},{"text":":0","color":"green","bold":true},{"score":{"name":"minutes","objective":"Timer"},"color":"green","bold":true},{"text":":","color":"green","bold":true},{"score":{"name":"seconds","objective":"Timer"},"color":"green","bold":true},{"text":"!","color":"#C1FFB8"}]
execute if score language Config matches 1 if score gamemode Config matches 1 if score recursionFix ItemsUpdate matches 0 if score minutes Timer matches 10.. if score seconds Timer matches ..9 run tellraw @a [{"text":"█","color":"dark_aqua"},{"text":" ⏵","color":"green"},{"text":" Lana cián","color":"#C1FFB8","bold":true},{"text":" (Tótem de la inmortalidad) ","color":"gray","italic":true},{"text":"conseguida en ","color":"#C1FFB8"},{"score":{"name":"hours","objective":"Timer"},"color":"green","bold":true},{"text":":","color":"green","bold":true},{"score":{"name":"minutes","objective":"Timer"},"color":"green","bold":true},{"text":":0","color":"green","bold":true},{"score":{"name":"seconds","objective":"Timer"},"color":"green","bold":true},{"text":"!","color":"#C1FFB8"}]
execute if score language Config matches 1 if score gamemode Config matches 1 if score recursionFix ItemsUpdate matches 0 if score minutes Timer matches 10.. if score seconds Timer matches 10.. run tellraw @a [{"text":"█","color":"dark_aqua"},{"text":" ⏵","color":"green"},{"text":" Lana cián","color":"#C1FFB8","bold":true},{"text":" (Tótem de la inmortalidad) ","color":"gray","italic":true},{"text":"conseguida en ","color":"#C1FFB8"},{"score":{"name":"hours","objective":"Timer"},"color":"green","bold":true},{"text":":","color":"green","bold":true},{"score":{"name":"minutes","objective":"Timer"},"color":"green","bold":true},{"text":":","color":"green","bold":true},{"score":{"name":"seconds","objective":"Timer"},"color":"green","bold":true},{"text":"!","color":"#C1FFB8"}]

execute if score language Config matches 1 if score gamemode Config matches 2 if score recursionFix ItemsUpdate matches 0 if score minutes Timer matches ..9 if score seconds Timer matches ..9 run tellraw @a [{"text":"█","color":"gray"},{"text":" ⏵","color":"green"},{"text":" Lana gris claro","color":"#C1FFB8","bold":true},{"text":" (Tótem de la inmortalidad) ","color":"gray","italic":true},{"text":"conseguida en ","color":"#C1FFB8"},{"score":{"name":"hours","objective":"Timer"},"color":"green","bold":true},{"text":":0","color":"green","bold":true},{"score":{"name":"minutes","objective":"Timer"},"color":"green","bold":true},{"text":":0","color":"green","bold":true},{"score":{"name":"seconds","objective":"Timer"},"color":"green","bold":true},{"text":"!","color":"#C1FFB8"}]
execute if score language Config matches 1 if score gamemode Config matches 2 if score recursionFix ItemsUpdate matches 0 if score minutes Timer matches ..9 if score seconds Timer matches 10.. run tellraw @a [{"text":"█","color":"gray"},{"text":" ⏵","color":"green"},{"text":" Lana gris claro","color":"#C1FFB8","bold":true},{"text":" (Tótem de la inmortalidad) ","color":"gray","italic":true},{"text":"conseguida en ","color":"#C1FFB8"},{"score":{"name":"hours","objective":"Timer"},"color":"green","bold":true},{"text":":0","color":"green","bold":true},{"score":{"name":"minutes","objective":"Timer"},"color":"green","bold":true},{"text":":","color":"green","bold":true},{"score":{"name":"seconds","objective":"Timer"},"color":"green","bold":true},{"text":"!","color":"#C1FFB8"}]
execute if score language Config matches 1 if score gamemode Config matches 2 if score recursionFix ItemsUpdate matches 0 if score minutes Timer matches 10.. if score seconds Timer matches ..9 run tellraw @a [{"text":"█","color":"gray"},{"text":" ⏵","color":"green"},{"text":" Lana gris claro","color":"#C1FFB8","bold":true},{"text":" (Tótem de la inmortalidad) ","color":"gray","italic":true},{"text":"conseguida en ","color":"#C1FFB8"},{"score":{"name":"hours","objective":"Timer"},"color":"green","bold":true},{"text":":","color":"green","bold":true},{"score":{"name":"minutes","objective":"Timer"},"color":"green","bold":true},{"text":":0","color":"green","bold":true},{"score":{"name":"seconds","objective":"Timer"},"color":"green","bold":true},{"text":"!","color":"#C1FFB8"}]
execute if score language Config matches 1 if score gamemode Config matches 2 if score recursionFix ItemsUpdate matches 0 if score minutes Timer matches 10.. if score seconds Timer matches 10.. run tellraw @a [{"text":"█","color":"gray"},{"text":" ⏵","color":"green"},{"text":" Lana gris claro","color":"#C1FFB8","bold":true},{"text":" (Tótem de la inmortalidad) ","color":"gray","italic":true},{"text":"conseguida en ","color":"#C1FFB8"},{"score":{"name":"hours","objective":"Timer"},"color":"green","bold":true},{"text":":","color":"green","bold":true},{"score":{"name":"minutes","objective":"Timer"},"color":"green","bold":true},{"text":":","color":"green","bold":true},{"score":{"name":"seconds","objective":"Timer"},"color":"green","bold":true},{"text":"!","color":"#C1FFB8"}]

#Fix recursion when in multiplayer
scoreboard players set recursionFix ItemsUpdate 1
execute if score gamemode Config matches 0..2 run advancement grant @a only ctmv:inventory_checks/items/totem